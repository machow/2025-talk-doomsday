---
title: "doomsday algorithm practice"
format:
  gfm:
    code-fold: true
editor: source
---

This repository is for a 5 minute show and tell on Conway's Doomsday Algorithm as posit workweek 2025.

## Learning the Doomsday ALgorithm

* https://rudy.ca/doomsday.html

## Practicing

* [Shiny app (runs in-browser)][shiny-app]

## Viewing practice trials

Here's a tiny bit of code I used to analyze my practice over two weeks. I broke practice into roughly 3 kinds of exercises (introduced in this order):

* **anchor**: calculating doomsday for a given year (between 1800 and 2100).
* **date-partial**: calculating the day of week, given doomsday for the year.
* **date**: full practice trial, calculating doomsday and then the day of the week.

Below are my practice trials across days (errors are marked with an orange vertical line).

```{r}
#| message: false
library(tidyverse)
library(jsonlite)

file_names <- c(
  "data/2025-01-00.json",
  "data/2025-01-26.json",
  "data/2025-01-27.json",  
  "data/2025-01-28.json",  
  "data/2025-01-30.json"
)

data_raw <- map_df(file_names, ~ read_json(.x) %>% map_df(as_tibble))

# first trial was screwed up
data <- data_raw %>% slice(-1)
```

```{r}
tidy_trials <- data %>%
  mutate(
    trial_date = lubridate::date(datetime_shown),
    response_time = coalesce(anchor_response_time, date_response_time),
    correct = coalesce(anchor_correct, date_correct),
    trial_date = lubridate::date(datetime_shown)
  ) %>%
  select(
    trial_date, stimulus = date, response_time, correct, mode, explanation) %>%
  mutate(trial_number = row_number(), .by=trial_date) %>%
  filter(trial_date != "2025-01-21")

```

```{r}
#| fig-height: 12
#| fig-width: 5
#| fig-dpi: 200
tidy_trials %>% 
  ggplot(aes(trial_number, response_time, color=mode)) +
  facet_wrap(~trial_date, ncol=1) +
  geom_hline(yintercept = 20, linetype = "dashed") +
  geom_line(alpha=.7)  +
  geom_vline(aes(xintercept=trial_number),color="orange", alpha=.2, data=tidy_trials %>% filter(!correct)) +
  geom_point(size=.6) +
  scale_shape_manual(breaks=c(FALSE, TRUE), values=c(4, 20)) +
  theme(legend.position="top") + labs(title="PRACTICE: Part and Whole Task Doomsday Trials", y = "Response time (seconds)", x = "Trial number")
```




[shiny-app]: https://shinylive.io/r/app/#code=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-D86M9ZkyGJlA2+50SnmRheaWKD4KEtfh-L81msHaOwii5R-DkC0rbhlMcIgnJzjsDqzKTg7BimlMGZU6p0mt27LpC0tpU0pnrW6UB5s9Gx0TrAMNTjMWMtxaDahYkK32C+s4MIMwzlaPdn6-+wbazKupGq78cs7xGs1DayuD1kXTsEMmyGNFJpMXHj0cmalxM4MRwQw+hSLdUNnlXOueaO46rHkbQAQmdhgM41BkTpZXHSJ0nWWUyiI+cHC0lSNrzAA1qjwtxOSdDCKZjWgeOXg424Orq3UKkEE+wYToma4k-KCrV4qndLNDaJp4yOmxYGaM3zMA7mbP2HAZNaztm8NqOo8pXy-kD1gFc29DzXnj0A1RYMSN6wbFYxIHPeExGb0ZdzFeHcGWr3anWJd3M13rwZcgQUc+uL2DvBfjm64IpWp9Umr1W6FZRrjRWi0+ai0Q-7SD9tXageRR4lOqHyi1104rQEMAd4lgADU6yAC6Ouo3lBu6a+3mfneu9Dq1x3yPyuhinh0KvluVybrQ21OPYAA9J5FMHvak1w9LXb-NnaveBoJ9LVHn3KfVkv0SF09YX3yg2LLpsdQloYti84gFUOSbPGMAyD47+DyU0b4lwQ0JP67UycdYNhJuOAl0vs5MG591DEMN6XDrHUlch3JXactdSLywe1iI4UC1d07BSBlcj1ukaV7pgtqBQsnETtot8MJp7okCztnxT5i8rt3hG96sVwOsusBkKlhl2ADtZMjthsWJRsGJxsFkntnZWUTFIFokH85dBwO0Is2ULMiUuUX8WVCcj9Ak2D1FNlDEkColOAmCotn9QwrAKQDZx4k4hU-4KgwI3RnFKY4xyBUBHRk1AlxUhVpV0024v1At-s-siJSBlBApG1GCkCX5TNPNH4JxXtpF8dkJ5c9Nyg7CpCHDa95xpsyBZsDduCuNMCZQodaJwZ2MJQbxfUp0Z0wISB1AF1ACWUThIVnt-MAiQJR1gj8xbAkCMBLB5s3AkDwjRwMsGh-JA0IINstsSjewYjcwiB4jEiH451UiaM2d0Cz83hzgrti87tuCMCdg1lX8SEsiVUtd7pddSci0ss78ctqxXlYxOCZEiUytzCrA8RRwYtSxywckMgkgogj43hGhkxgkN5zjIE8hChigwVaNKgTg6gDYed38xgNRJguAh0Sghtjxf42g3UtAr8vVAMWlQ14hfUYBoSM5vCUt1joMtiETDEbjngSFXhGBwY1I0cKMThywNkET7h0SOQXg2gXJsQHgnAahUSWUKi2h7D7tSBiToUGTLBKSES0QMQsRcQCRExdoSRyRqRZjmxSSOt54+B1A9ku4j4Os1lrjZTggnsXsMUAtkxdiqinFDiUsTjzdjQtD8VghkwwMjSwUPCIVkxB1gDV0KVh0qUdcz0gse4V9LRf4T8t8d53Fd999fEhCYkzMJdKhz9wlL8BtvVb86kCdH8XwYDQx7g39ikTdv9l1bTEUN14sYUbSMy90IDJwoCFlmV8TMSWCljHkiw8s3kNiLSitvlfxtjkxKTqTqAag-M3Dcj9M+lkyl1f8ShrTvwQCbhKjCE-jQDLBczICwJj0HS+C5DLAsYHZLZUJ1xCc6ckCa1mTmZTUy9EhsDS8Wti8OtwzAMGC-DmSG079oz2CoN0CGt3g4ywxcN1AIJzdxTHRFSzi+E7itB8gihYAnjmwXiSE3jGgPjikvjugfj81rk9MgTeNJ5QTjz5MfUwAoSYS4SIdiZ8tGTliKyORDi0sWVSSQCsScTpTJj4BCTAYSSlSyTMS2hsS29choUCT1lAZxDzzGSyyU0VjixsKPlyBEsStRFKSciOLuCURAK2TOLVtpDUg9NuS+BeT8RCRBS2hSRKQaQ94HzbVPz-A9l6ApSZS9L5SLt3IHg9KntuVLAFDGglDBVJU9DDVDDJVjDzV5VFVzD4NjwrCbDjYsszzuDHDRd1cXC3x2yFFMQvDIcAq5Lp4Oypt8jGMRRQi4QojmjlBYi2jA0OjZ0UjOBNseiScEySEET5w7DcLnl8KqyBLaykt6zgrXC1SgY2dvQkrZtbwEjp1Oj8rYiwhqAxNhySKc8Sr4AntQxVS3s9s4x2rCithmSSiyiuCTFqjaj1tNsBAmiWi4icruq8r51CrdtejNy7zzgLtBj7dhjbzXYPdidJNRq4AyruwKryyqq1iRhaqhKflRE-xwrmr-wFwgjkq3wNtcrkj50+qnBBqKK3ARqWKpjpiI1RTnts55iWqxFPIE1zxSTLBeA+42BelLBh5R4n075AliLt5mh3LM1l5v1QzIlxSXV7pcxiaXJjKnh9K1lCwqhvARosB4EqRUbZAvsRAeA+BWBsR0B2BGQjivFYyIAwAUVc8gA
